# $Id:$
# grep

defun grep (pat) {
    try {
	set n 1;
	$stdin each do: {| r |
	    if {$r =~ $pat} then: {
		print $INFILE ":" $n ": " $r;
	    };
	    $n ++;
	};
    };
    println;
};
